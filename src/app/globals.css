@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@600;700&display=swap');
@import "tailwindcss";

/* Human & Trustworthy theme tokens */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --font-sans: var(--font-inter);
  --font-heading: var(--font-poppins);
}

:root {
  /* Vibrant RGB palette */
  --background: rgb(6,10,25);
  --background-gradient: linear-gradient(180deg, rgb(8,12,28) 0%, rgb(4,8,20) 100%);
  --foreground: rgb(245,248,250);

  --primary: rgb(0,204,204);
  --primary-foreground: #051217;

  --secondary: rgb(18,18,24);
  --secondary-foreground: rgb(230,235,240);

  --destructive: rgb(255,99,71);
  --destructive-foreground: #111111;

  --muted: rgba(255,255,255,0.06);
  --muted-foreground: rgba(255,255,255,0.72);

  --accent: rgb(255,85,180);
  --accent-foreground: #111111;

  /* Availability colors */
  --available: #22c55e; /* green */
  --deployed: #f59e0b; /* orange */

  --card: rgba(255,255,255,0.03);
  --card-foreground: var(--foreground);

  --border: rgba(255,255,255,0.06);
  --input: rgba(255,255,255,0.02);
  --ring: rgb(0,204,204);

  --radius: 0.75rem;

  /* Legend and resource progress styles */
  .legend-dot { display:inline-block; width:12px; height:12px; border-radius:9999px; margin-right:.5rem; vertical-align:middle; }
  .resource-progress { background: rgba(255,255,255,0.03); border-radius: 6px; height:8px; overflow:hidden; }
  .resource-progress > .fill { height:100%; border-radius:6px; transition:width 600ms cubic-bezier(.2,.8,.2,1); }
  .stat-available { color: var(--available) }
  .stat-deployed { color: var(--deployed) }

  /* Shadows and motion (crisper on dark) */
  --shadow-sm: 0 10px 30px rgba(0,0,0,0.55);
  --shadow-md: 0 24px 80px rgba(0,0,0,0.65);
  --transition-fast: 180ms cubic-bezier(.2,.8,.2,1);
}

body {
  background-color: var(--background);
  background-image: var(--background-gradient), radial-gradient(circle at 10% 20%, rgba(0,204,204,0.06), transparent 18%), radial-gradient(circle at 90% 80%, rgba(255,85,180,0.04), transparent 18%), repeating-linear-gradient(45deg, rgba(255,255,255,0.01) 0 1px, transparent 1px 30px);
  background-attachment: fixed;
  color: var(--foreground);
  font-family: var(--font-sans, sans-serif);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-fast), color var(--transition-fast);
} 

@media (prefers-color-scheme: dark) {
  :root {
    --background: #06161a;
    --foreground: #e8f9fa;

    --primary: #0bb5b3;
    --primary-foreground: #031212;

    --secondary: #0f2a2c;
    --secondary-foreground: #e8f9fa;

    --destructive: #7f1d1d;
    --destructive-foreground: #f8fafc;

    --muted: #0f2a2c;
    --muted-foreground: #92a6aa;

    --accent: #d97706;
    --accent-foreground: #111827;

    --card: #071617;
    --card-foreground: #e8f9fa;

    --border: #073033;
    --input: #073033;
    --ring: #0bb5b3;

    --shadow-sm: 0 6px 18px rgba(0,0,0,0.45);
    --shadow-md: 0 12px 40px rgba(0,0,0,0.55);
  }
}

/* Global typography */
:root {
  --font-inter: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  --font-poppins: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans, sans-serif);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--transition-fast), color var(--transition-fast);
}

/* Headings use the friendly Poppins font */
h1, h2, h3, h4, h5 {
  font-family: var(--font-heading);
}

/* Subtle animations */
@keyframes floatY { 0% { transform: translateY(0) } 50% { transform: translateY(-8px) } 100% { transform: translateY(0) } }

.pulse-soft { animation: pulse 2.5s ease-in-out infinite; }
.float-anim { animation: floatY 6s ease-in-out infinite; }

/* Slow ping for subtle marker animations */
@keyframes ping-slow { 0% { transform: scale(1); opacity: 1 } 75% { transform: scale(2.2); opacity: 0 } 100% { opacity: 0 } }
.animate-ping-slow { animation: ping-slow 2200ms cubic-bezier(.2,.9,.3,1) infinite; }

/* Utility for soft elevated card */
.card-soft {
  background: var(--card);
  color: var(--card-foreground);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border);
}

/* CTA focus ring */
:focus-visible { outline: none; box-shadow: 0 0 0 4px color-mix(in srgb, var(--ring) 20%, transparent); }

@layer components {
  /* Leaflet marker styles expressed with Tailwind utilities */
  .critical-marker { @apply relative w-5 h-5 block; }
  .marker-dot { @apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-red-500 border-2 border-white ring-2 ring-red-300; }
  .marker-pulse { @apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-red-500/30; animation: marker-pulse 1.6s infinite ease-out; }

  @keyframes marker-pulse { 0% { transform: translate(-50%, -50%) scale(1); opacity: 0.9 } 70% { transform: translate(-50%, -50%) scale(2.6); opacity: 0 } 100% { opacity: 0 } }

  .leaflet-legend { @apply absolute top-3 right-3 z-40 pointer-events-auto bg-white/90 text-slate-800 p-2 rounded-lg border border-slate-200 text-xs shadow-lg; }
  .leaflet-legend .item { @apply flex items-center gap-2 mb-1; }
  .leaflet-legend .dot { @apply w-2.5 h-2.5 rounded-full; }
  .leaflet-legend .dot.red { @apply bg-red-500 ring-2 ring-red-200; }
  .leaflet-legend .dot.orange { @apply bg-orange-500; }
  .leaflet-legend .dot.yellow { @apply bg-yellow-500; }
  .leaflet-legend .dot.green { @apply bg-emerald-500; }
}

